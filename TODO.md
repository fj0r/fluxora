### gateway:
- Config
  - [ ] kdl
  - [ ] arc-swap
- Serialize
  - [ ] CBOR support
  - [ ] rkyv
- Streaming
  - [ ] iggy
  - [ ] walrus
  - [ ] s2
- [ ] Allow template rendering of webhook request results
- Optimize
  - [ ] RwLock -> dashmap
- [x] MessageQueue separate into event and push.
  - The event queue is used for business logic.
  - The push queue is used to send messages to users
      - It can be non-persistent (e.g., Redis stream)
      - Streamed fragments of AI responses
          - No need for long-term storage (a complete copy should exist in the event queue)
          - Not convenient for the recipient to extract the content
- [x] webhook
    - [x] receive messages via WebSocket and send them to the main queue, or access other services through a **webhook**
    - [x] event map
    - [ ] ~history srv~
    - [x] ~hot reload config~ config update api
    - [x] migrate txt to json
- [ ] channel
    - [x] channel in message
- [ ] ~topic/channel/chatroom~ (client/controller)
- [x] ~top event~ (unachievable)
- [x] greet
    - [x] init ui
    - [x] template
    - [x] webhook
- [x] auth/login
    - [x] webhook
    - [x] ~event (replace session)~
        - [x] ~update session_id after the message queue login event~

### ui:
- [ ] KDL format
- [x] Dynamic layout
    - [x] Rack/Case: table/grid
- [x] Data binding (for some components)
- [x] User input (listen to input events)
    - [x] Listen for enter key press
    - [x] ~local data update~
        - [x] server echo
- [x] Try to clarify data format definitions
- [x] List component, needed for chat
    - [x] keyed list
    - [ ] auto scroll to bottom
        - [x] text scroll to self on data reception
        - [x] The container scrolls automatically only when it is ~at~in the bottom.
    - [x] multiple type items
        - [x] item filter
- [x] Logic for merging list unit(based on ID), used for AI's dynamic output
    - [x] push to Vec (children)
    - [x] **multiple segment**
- [x] Form defined ~by jsonschema~
    - [x] payload of bool/number input
    - [ ] **instant message**
    - [ ] List of form
- [x] Custom index.html templates
- [ ] Input
    - [ ] number
        - [ ] int/float
        - [ ] range
        - [ ] UI
    - [x] choice
        - [x] menu
        - [ ] redio group
- [x] Fold / Pop / Switch
    - [x] foldable div
    - [x] Channel Support (Switch)
    - [x] menu (Pop)
- [x] Better markdown support (~js~)
- [x] Chart support (js/~Plotlars~)
    - [x] svg
- [x] list update strategy
    - [x] concat
    - [x] replace
- [x] **Template snippets** (instead of templates)
- [x] json template
    - [x] defined on server side
    - [x] optimization
- [x] ~Component Interactivity~
- [x] ~Subpath~
- [ ] tooltip on case
